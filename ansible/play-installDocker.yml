---
- hosts: all
  
  vars:
         ansible_python_interpreter: "/usr/bin/env python2.7"
  
  tasks:
  
      - name: Install docker
        shell: curl -fsSL https://get.docker.com | sh

      - name: Install docker-compose
        shell: curl -L https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m) -o /usr/local/bin/docker-compose

      - file:
          name: Configure docker-compose
          path: /usr/local/bin/docker-compose
          mode: "+x"
          state: absent

      - name: Start service docker, if not started
        service:
          name: docker
          state: started
          enable: yes
